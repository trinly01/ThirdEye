webpackJsonp([6],{294:function(t,e,s){function a(t){s(357)}var i=s(211)(s(344),s(370),a,null,null);t.exports=i.exports},344:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(47);s.n(a);e.default={mounted:function(){this.$bindAsArray("users",this.$database.ref("users"))},data:function(){return{users:[]}},computed:{$user:function(){return this.$store.state.user}},methods:{logout:function(){return this.$auth.signOut()},showChangePassword:function(){var t=this;a.Loading.show(),this.$auth.sendPasswordResetEmail(this.$user.email).then(function(){a.Dialog.create({title:"Password Reset",message:"We sent your password reset link to your email: "+t.$user.email}),a.Loading.hide()}).catch(function(t){a.Loading.hide(),a.Toast.create.negative({html:t.code+": "+t.message})})}}}},354:function(t,e,s){e=t.exports=s(291)(void 0),e.push([t.i,".layout-header{z-index:5}button{z-index:100}",""])},357:function(t,e,s){var a=s(354);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(292)("6adeb246",a,!0)},370:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",[s("div",{staticClass:"toolbar",staticStyle:{position:"relative","z-index":"5"},slot:"header"},[s("button",{staticClass:"hide-on-drawer-visible",on:{click:function(e){t.$refs.leftDrawer.open()}}},[s("i",[t._v("menu")])]),t._v(" "),s("q-toolbar-title",{attrs:{padding:0}},[t._v("\n      Property Inventory v"+t._s(t.$q.version)+"\n    ")]),t._v(" "),s("button",{staticClass:"circular small raised"},[s("i",[t._v("person")]),t._v(" "),s("q-popover",{ref:"popover"},[s("div",{staticClass:"list item-delimiter highlight",staticStyle:{width:"250px"}},[t.$user&&t.$user.data?s("div",{staticClass:"list-label"},[t._v(t._s(t.$user.data.displayName)+" ("+t._s(t.$user.data.type)+")")]):t._e(),t._v(" "),t.$user&&t.$user.data?s("div",{staticClass:"item item-link",on:{click:t.showChangePassword}},[s("div",{staticClass:"item-content"},[t._v("\n              Change Password\n            ")])]):t._e(),t._v(" "),t.$user?s("div",{staticClass:"item item-link",on:{click:t.logout}},[s("div",{staticClass:"item-content"},[t._v("\n              Logout\n            ")])]):t._e(),t._v(" "),s("router-link",{attrs:{to:"/login"}},[t.$user?t._e():s("div",{staticClass:"item item-link",on:{click:t.logout}},[s("div",{staticClass:"item-content"},[t._v("\n                Login\n              ")])])])],1)])],1)],1),t._v(" "),t.$store.state.user?s("q-drawer",{ref:"leftDrawer"},[s("div",{staticClass:"toolbar light"},[s("q-toolbar-title",{attrs:{padding:1}},[t._v("\n          "+t._s(t.$store.state.user&&t.$store.state.user.data?t.$store.state.user.data.type:"")+" "),s("br"),t._v(" "+t._s(t.$user&&t.$user.data&&t.$user.data.store?t.$user.data.store:"")+"\n      ")])],1),t._v(" "),t.$user&&t.$user.data&&"Admin"===t.$user.data.type?s("div",{staticClass:"list no-border platform-delimiter"},[s("div",{staticClass:"list-label"},[t._v("Management")]),t._v(" "),s("q-drawer-link",{attrs:{icon:"group",to:"/admin",exact:""}},[t._v("\n        Users\n      ")]),t._v(" "),s("q-drawer-link",{attrs:{icon:"group_work",to:"/category",exact:""}},[t._v("\n        Category\n      ")]),t._v(" "),s("q-drawer-link",{attrs:{icon:"branding_watermark",to:"companyBrands",exact:""}},[t._v("\n        Comapny & Brands\n      ")]),t._v(" "),s("q-drawer-link",{attrs:{icon:"shopping_basket",to:"/item",exact:""}},[t._v("\n        Item / Product\n      ")]),t._v(" "),s("q-drawer-link",{attrs:{icon:"store",to:"/store",exact:""}},[t._v("\n        Store\n      ")])],1):t._e(),t._v(" "),t.$user&&t.$user.data&&"Store owner"===t.$user.data.type?s("div",{staticClass:"list no-border platform-delimiter"},[s("div",{staticClass:"list-label"},[t._v("Store Management")]),t._v(" "),s("q-drawer-link",{attrs:{icon:"shopping_basket",to:"/storeItems",exact:""}},[t._v("\n        Items / Products\n      ")]),t._v(" "),s("q-drawer-link",{attrs:{icon:"message",to:"/storeMessages",exact:""}},[t._v("\n        Messages\n      ")])],1):t._e(),t._v(" "),t.$user&&t.$user.data&&"Admin"===t.$user.data.type?s("div",{staticClass:"list highlight no-border platform-delimiter"},[s("div",{staticClass:"list-label"},[t._v("Messages")]),t._v(" "),t._l(t.users,function(e){return s("div",{key:e[".key"],staticClass:"item",class:{active:e.email===t.$route.params.email},staticStyle:{height:"72px"},on:{click:function(s){t.$router.push("/message/"+e.email)}}},[s("div",{staticClass:"item-content has-secondary"},[s("div",[t._v(t._s(e.displayName))]),t._v(" "),s("div",{staticClass:"item-label item-smaller"},[t._v(t._s(e.email))]),t._v(" "),s("div",{staticClass:"item-label item-smaller"},[t._v(t._s(e.type))])]),t._v(" "),s("br"),t._v(" "),s("br")])})],2):t._e()]):t._e(),t._v(" "),s("router-view",{staticClass:"layout-view"})],1)},staticRenderFns:[]}}});